(function(e){"use strict";function i(){}var t=function(){var e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};var i=document.createElement("b");var t;for(t in e){if(i.style[t]!=null){return e[t]}}}();function n(e,i){var t=document.querySelectorAll(e);var n=-1;var o=t.length;while(++n<o){t[n].addEventListener("click",i)}}function o(e,l){var a=this;l=l||{};if(!(a instanceof o)){return new o(e,l)}a.elem=e;a.onShow=l.onShow||i;a.onShowEnd=l.onShowEnd||i;a.onHide=l.onHide||i;var s=l.onHideEnd||i;a.onHideEnd=function(){e.style.display="none";s(e)};var r=a.fade=t?l.fade:false;a.scrollTop=l.scrollTop!=null?l.scrollTop:true;a.isVisible=false;var d=document.createElement("b");e.insertBefore(d,e.firstChild);d.style.cssText="display:inline-block;margin:0;padding:0;border:0;outline:0;width:0;height:100%;vertical-align:middle;";var c=e.querySelector(l.dialogSelector||".modal__dialog");var f=window.getComputedStyle(c)["text-align"];c.style.cssText+="display:inline-block;text-align:"+f+";vertical-align:middle;";e.style.cssText+="display:none;position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;text-align:center;will-change:transform;";n(l.showSelector||".js-modal-show",function(e){a.show(e.target)});n(l.hideSelector||".js-modal-hide",function(e){a.hide(e.target)});e.addEventListener("click",function(i){i.target===e&&a.hide(e)});document.addEventListener("keydown",function(e){e.keyCode===27&&a.hide(e.target)});if(r){var u=(r.duration||"0.25s")+" "+(r.timingFunction||"ease")+" opacity";e.style.cssText+="-webkit-transition:"+u+";-moz-transition:"+u+";-o-transition:"+u+";transition:"+u+";";e.addEventListener(t,function(){(a.isVisible?a.onShowEnd:a.onHideEnd)(e)})}}o.prototype.show=function(e){var i=this;var t=i.elem;var n=t.style;if(!i.isVisible){document.body.style.overflow="hidden";if(i.fade){n.opacity=0}n.display="block";if(i.scrollTop){t.scrollTop=0}if(i.fade){setTimeout(function(){n.opacity=1},0)}i.isVisible=true;i.onShow(t,e);!i.fade&&i.onShowEnd(t)}};o.prototype.hide=function(e){var i=this;var t=i.elem;if(i.isVisible){document.body.style.overflow="";if(i.fade){t.style.opacity=0}i.isVisible=false;i.onHide(t,e);!i.fade&&i.onHideEnd(t)}};if(typeof module==="object"){module.exports=o}else{e.modal=o}})(this);