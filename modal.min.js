(function(e){"use strict";function i(){}var t=function(){var e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};var i=document.createElement("b");var t;for(t in e){if(i.style[t]!=null){return e[t]}}}();function n(e,i){var t=document.querySelectorAll(e);var n=-1;var o=t.length;while(++n<o){t[n].addEventListener("click",i)}}function o(e,l){var s=this;l=l||{};if(!(s instanceof o)){return new o(e,l)}s.elem=e;s.onShow=l.onShow||i;s.onShowEnd=l.onShowEnd||i;s.onHide=l.onHide||i;var a=l.onHideEnd||i;s.onHideEnd=function(){e.style.display="none";a(e)};var d=s.fade=t?l.fade:false;s.scrollTop=l.scrollTop!=null?l.scrollTop:true;s.isVisible=false;var r=document.createElement("b");e.insertBefore(r,e.firstChild);r.style.cssText="display:inline-block;margin:0;padding:0;border:0;outline:0;width:0;height:100%;vertical-align:middle;";var c=e.querySelector(l.dialogSelector||".modal__dialog");var f=window.getComputedStyle(c)["text-align"];c.style.cssText+="display:inline-block;text-align:"+f+";vertical-align:middle;";e.style.cssText+="display:none;position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;text-align:center;will-change:transform;";n(l.showSelector||".js-modal-show",function(e){s.show(e.target)});n(l.hideSelector||".js-modal-hide",function(e){s.hide(e.target)});e.addEventListener("click",function(i){i.target===e&&s.hide(e)});document.addEventListener("keydown",function(e){e.keyCode===27&&s.hide(e.target)});if(d){var u=(d.duration||"0.25s")+" "+(d.timingFunction||"ease")+" opacity";e.style.cssText+="-webkit-transition:"+u+";-moz-transition:"+u+";-o-transition:"+u+";transition:"+u+";";e.addEventListener(t,function(){(s.isVisible?s.onShowEnd:s.onHideEnd)(e)})}}o.prototype.show=function(e){var i=this;var t=i.elem.style;if(!i.isVisible){document.body.style.overflow="hidden";if(i.fade){t.opacity=0}t.display="block";if(i.scrollTop){i.elem.scrollTop=0}if(i.fade){setTimeout(function(){t.opacity=1},0)}i.isVisible=true;i.onShow(i.elem,e);!i.fade&&i.onShowEnd(i.elem)}};o.prototype.hide=function(e){var i=this;if(i.isVisible){document.body.style.overflow="";if(i.fade){i.elem.style.opacity=0}i.isVisible=false;i.onHide(i.elem,e);!i.fade&&i.onHideEnd(i.elem)}};if(typeof module==="object"){module.exports=o}else{e.modal=o}})(this);